# `example_output.json` Format Guide

This document describes the structure and fields of the output generated by the scraper CLI. Each run of the scraper produces a JSON file with metadata about the search and a list of extracted vehicle listings.

## Top-Level Fields

### `metadata` (object)
Contains information about the search parameters, runtime context, and results metadata.

#### `vehicle` (object)
Describes the user-specified vehicle criteria.

**Example:**
```json
"vehicle": {
	"make": "ExampleMake",
	"model": "ExampleModel",
	"trim": ["ExampleTrim", "ExampleTrim2"],
	"year": ["2022", "2023"]
}
```

#### `filters` (object)
Reflects additional filter parameters used in the query.

**Example:**
```json
"filters": {
	"min_miles": 10000,
	"max_miles": 60000,
	"miles": "10000-60000",
	"min_price": 25000,
	"max_price": 40000,
	"price": "25000-40000",
	"condition": ["Used", "Certified"],
	"sort": "Newest",
	"max_listings": 100
}
```

#### `site_info` (object)
Optional site-specific metadata extracted during scraping. This may include total listings found or other platform metrics.

**Example:**
```json
"site_info": {
	"total_for_sale": 1445
}
```

#### `runtime` (object)
Details about when and how the scraper was executed.

**Example:**
```json
"runtime": {
	"timestamp": "2025-07-25 16:03:12",
	"url": "https://visor.vin/search/listings?make=ExampleMake&model=ExampleModel"
}
```

#### `warnings` (array of strings)
Any non-fatal issues that occurred during scraping.

**Example:**
```json
"warnings": [
	"Failed to extract VIN from listing #12",
	"Skipping listing #31: Price element missing"
]
```

---

### `listings` (array of objects)
Each entry represents an individual vehicle listing that was scraped. Listings are returned in the order defined by the `sort` filter.

#### Listing Object Fields

**Example:**
```json
{
	"title": "2023 ExampleMake ExampleModel ExampleTrim AWD",
	"price": "$35,000",
	"mileage": "12,345 mi",
	"vin": "XXXXXXXEXAMPLVIN1",
	"listing_url": "https://www.dealership.com/carlisting"
}
```

- `title` (string): The listing title as shown on the website.
- `price` (string): The price listed, including formatting.
- `mileage` (string): Mileage displayed in the listing.
- `vin` (string or null): Extracted Vehicle Identification Number.
- `listing_url` (string): The webpage that the car originated from

### `specs` (object)
Key vehicle specifications as shown on the listing.

**Example:**
```json
"specs": {
  "Transmission": "Automatic",
  "Exterior Color": "Blue",
  "Drivetrain": "AWD",
  "Interior Color": "Black",
  "Fuel Type": "Gasoline",
  "Engine": "2.5L I4"
}
```


### `installed_addons` (object)
Any dealer-installed accessories or options with pricing.

**Example:**
```json
"installed_addons": {
  "items": [
    { "name": "Floor Mats", "price": 150 },
    { "name": "Roof Rack", "price": 300 }
  ],
  "total": 450
}
```


### `additional_docs` (object)
Links to supplementary documentation such as Carfax and window sticker.

**Example:**
```json
"additional_docs": {
  "carfax_url": "https://www.carfax.com/vehicle/sample-report",
  "window_sticker_url": "https://windowsticker.example.com/sticker.pdf"
}
```
Please note that if a user is not subscribed to a subscription, these will be marked as `Unavilable`


### `seller` (object)
Information about the dealer or seller of the vehicle.

**Example:**
```json
"seller": {
  "name": "Example Dealership",
  "location": "Sample City, ST",
  "map_url": "https://maps.google.com/?q=example+dealership",
  "stock_number": "EX12345",
  "phone": "(123) 456-7890"
}
```


### `warranty` (object)
Status of major warranty types.

**Example:**
```json
"warranty": {
  "coverages": [
    {
      "type": "Basic",
      "status": "Miles expired",
      "time_left": "3 mo left",
      "time_total": "/ 3 yrs",
      "miles_left": "Expired 106k mi ago",
      "miles_total": "/ 36k mi"
    },
    {
      "type": "Powertrain",
      "status": "Miles expired",
      "time_left": "2 yr, 3 mo left",
      "time_total": "/ 5 yrs",
      "miles_left": "Expired 82k mi ago",
      "miles_total": "/ 60k mi"
    },
    {
      "type": "Rust",
      "status": "Active",
      "time_left": "2 yr, 3 mo left",
      "time_total": "/ 5 yrs",
      "miles_left": "No expiration",
      "miles_total": "/ Unlimited miles"
    }
  ],
  "overall_status": "Partially Active"
}
```


### `market_velocity` (object)
Metrics about how fast vehicles like this sell.

**Example:**
```json
"market_velocity": {
  "vehicles_sold_14d": 50,
  "avg_days_on_market": 45,
  "this_vehicle_days": 10,
  "sell_chance_7d": 0.25
}
```
- `vehicles_sold_14d` (int): The number of this excact model that have sold in the last two weeks.
- `avg_days_on_market` (int): The average number of days before this exact model of vehicle sits before being sold.
- `this_vehicle_days` (int): How many days this vehicle has been listed for.
- `sell_chance_7d` (float): The chance (in % format) that this exact vehicle will be sold in the next 7 days.


### `price_history` (array of objects)
A record of price changes over time.

**Example:**
```json
"price_history": [
  {
    "date": "July 25th, 2025",
    "price": 24999,
    "price_change": -500,
    "mileage": 28000,
    "lowest": true
  },
  ...
]
```

## Notes

- Listings may have `"N/A"` values if elements are missing or failed to load.
- `metadata["filters"]` reflects both user input and logic-applied overrides (e.g., `miles` overriding `min_miles`/`max_miles`).
- Warnings are included for debugging but do not affect scraper output integrity.
