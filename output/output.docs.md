# `example_output.json` Format Guide

This document describes the structure and fields of the output generated by the scraper CLI. Each run of the scraper produces a JSON file with metadata about the search and a list of extracted vehicle listings.

## Top-Level Fields

### `metadata` (object)
Contains information about the search parameters, runtime context, and results metadata.

#### `vehicle` (object)
Describes the user-specified vehicle criteria.

**Example:**
```json
"vehicle": {
	"make": "Toyota",
	"model": "RAV4",
	"trim": ["Adventure", "TRD Off-Road"],
	"year": ["2022", "2023"]
}
```

#### `filters` (object)
Reflects additional filter parameters used in the query.

**Example:**
```json
"filters": {
	"min_miles": 10000,
	"max_miles": 60000,
	"miles": "10000-60000",
	"min_price": 25000,
	"max_price": 40000,
	"price": "25000-40000",
	"condition": ["Used", "Certified"],
	"sort": "Newest",
	"max_listings": 100
}
```

#### `site_info` (object)
Optional site-specific metadata extracted during scraping. This may include total listings found or other platform metrics.

**Example:**
```json
"site_info": {
	"total_for_sale": 1445
}
```

#### `runtime` (object)
Details about when and how the scraper was executed.

**Example:**
```json
"runtime": {
	"timestamp": "2025-07-25 16:03:12",
	"url": "https://visor.vin/search/listings?make=Toyota&model=RAV4"
}
```

#### `warnings` (array of strings)
Any non-fatal issues that occurred during scraping.

**Example:**
```json
"warnings": [
	"Failed to extract VIN from listing #12",
	"Skipping listing #31: Price element missing"
]
```

---

### `listings` (array of objects)
Each entry represents an individual vehicle listing that was scraped. Listings are returned in the order defined by the `sort` filter.

#### Listing Object Fields

**Example:**
```json
{
	"title": "2023 Toyota RAV4 Adventure AWD",
	"price": "$35,000",
	"mileage": "12,345 mi",
	"listed": "Listed 10 days ago",
	"location": "Denver, CO",
	"vin": "2T3J1RFV1PW123456"
}
```

- `title` (string): The listing title as shown on the website.
- `price` (string): The price listed, including formatting.
- `mileage` (string): Mileage displayed in the listing.
- `listed` (string): Text describing when the vehicle was listed (e.g., "Listed 7 days ago").
- `location` (string): City and state of the vehicle location.
- `vin` (string or null): Extracted Vehicle Identification Number.

---

## Notes

- Listings may have `"N/A"` values if elements are missing or failed to load.
- `metadata["filters"]` reflects both user input and logic-applied overrides (e.g., `miles` overriding `min_miles`/`max_miles`).
- Warnings are included for debugging but do not affect scraper output integrity.
